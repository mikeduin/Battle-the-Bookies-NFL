<standingsHead class="row" ng-init="vm.getDates(); vm.getAllUsers()">
  <standDiv class="col s12 capper-head z-depth-1">
    <div class="col s12 left-align">
      <p class="capHead"> capperGrades </p>
    </div>
    <howTo>
      <p class="col s12">
        - capperGrades are explained in detail in the <a ui-sref="home.tutorial">How to Play</a> page.
      </p>
      <p class="col s12">
        - An entrant's weekly capperGrades are the average of their capperGrades for that week's games. Those scores are then summed to make an entrant's total capperScore.
      </p>
      <p class="col s12">
        - As line movements were not logged prior to Week 6, capperGrades for Weeks 1-5 are derived based on the best line selected by <i>any member of the pool</i> -- as opposed to the best line <i>ever available</i> -- and thus will be higher in value than the capperGrades from Week 6 on.
      </p>
    </howTo>
  </standDiv>
</standingsHead>

<cGrades class="row">
  <table class="striped">
    <thead>
      <tr>
        <th colspan="1">  </th>
        <th colspan="5" class="center-align ytd-header"> Year to Date </th>
        <th colspan="{{vm.weeksOfGames.length}}" class="center-align ytd-header">Week</th>
      </tr>
      <tr class="bord-bottom">
        <th>Entrant</th>
        <th> W </th>
        <th> L </th>
        <th> Win% </th>
        <th class="center-align"> $ </th>
        <th class="center-align">capperScore</th>
        <th ng-repeat="week in vm.weekNumbs" class="center-align ">{{week}}</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in vm.users | orderBy: vm.sortOrder" ng-init="vm.getCapperGrades(user)">
        <td class="pushdown user-size"> <a ui-sref="home.user({username: user.username})">{{user.username}}</td>
        <td class="pushdown ytdwBox"> <b> {{user.ytdW}} </b> </td>
        <td class="pushdown ytdwBox"> <b> {{user.ytdL}} </b> </td>
        <td class="pushdown"> <i> {{user.ytdPct | percentage:2}} </i> </td>
        <td class="pushdown sum-total" ng-class="{dayWin: user.sumYtd > 0, dayLoss: user.sumYtd < 0}"> {{user.sumYtd | currency:$:2}} </td>
        <td class="pushdown center-align capperScore"> {{user.totalCapperScore | number:2}} </td>
        <td ng-repeat="week in user.capperGrades" class="pushdown" ng-class="{capperHigh: week.avgCapperGrade >= 9, capperMed: week.avgCapperGrade < 9 && week.avgCapperGrade > 7.5, capperLow: week.avgCapperGrade <= 7.5}"> {{week.avgCapperGrade | number:2}}</td>
      </tr>
    </tbody>
  </table>
</cGrades>
